# ==============================================
# Opportunities Radar - Environment Configuration
# ==============================================

# Application
APP_NAME=Opportunities Radar
APP_ENV=development
DEBUG=true
SECRET_KEY=change-this-to-a-secure-random-string-in-production
FRONTEND_URL=http://localhost:3000
BACKEND_URL=http://localhost:8000

# Database
DATABASE_URL=postgresql://radar:radar_password@postgres:5432/opportunities_radar
# For SQLite dev (optional):
# DATABASE_URL=sqlite:///./opportunities.db

# Redis
REDIS_URL=redis://redis:6379/0
CELERY_BROKER_URL=redis://redis:6379/0
CELERY_RESULT_BACKEND=redis://redis:6379/1

# JWT Auth
JWT_SECRET_KEY=your-jwt-secret-key-change-in-production
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# IMAP Email Configuration
IMAP_HOST=imap.gmail.com
IMAP_PORT=993
IMAP_USER=newsletters@youragency.com
IMAP_PASSWORD=your-app-password
IMAP_FOLDER=NEWSLETTERS
IMAP_USE_SSL=true
IMAP_POLL_INTERVAL_MINUTES=5

# SMTP Notifications (outgoing emails)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=notifications@youragency.com
SMTP_PASSWORD=your-app-password
SMTP_FROM_EMAIL=Opportunities Radar <notifications@youragency.com>
SMTP_USE_TLS=true

# Webhook Notifications
DISCORD_WEBHOOK_URL=
SLACK_WEBHOOK_URL=

# Notification Thresholds
NOTIFICATION_MIN_SCORE=10
NOTIFICATION_URGENT_DAYS=7
NOTIFICATION_URGENT_MIN_SCORE=8

# Ingestion Settings
INGESTION_WEB_INTERVAL_HOURS=6
INGESTION_EMAIL_INTERVAL_MINUTES=5
INGESTION_MAX_RETRIES=2
INGESTION_TIMEOUT_SECONDS=30
INGESTION_USER_AGENT=OpportunitiesRadar/1.0 (+https://youragency.com)

# Scoring defaults (can be overridden in DB)
SCORING_URGENCY_7_DAYS=6
SCORING_URGENCY_14_DAYS=4
SCORING_URGENCY_30_DAYS=2
SCORING_EVENT_FIT_HIGH=3
SCORING_EVENT_FIT_MEDIUM=2
SCORING_QUALITY_LINK=2
SCORING_QUALITY_CONTACT=2
SCORING_VALUE_INSTITUTION=2
SCORING_VALUE_BUDGET=2
SCORING_PENALTY_NO_INFO=-4
SCORING_PENALTY_PROMO=-2

# Rate Limiting
RATE_LIMIT_PER_MINUTE=60

# Spotify API (pour récupérer les données d'artistes)
# Obtenir vos credentials sur: https://developer.spotify.com/dashboard
SPOTIFY_CLIENT_ID=d788410dbfc74b0593885151c4a07f22
SPOTIFY_CLIENT_SECRET=15a5489602414dc79d92af333a7cd7c2

# ==============================================
# SSO - Google OAuth
# ==============================================
# 1. Aller sur https://console.cloud.google.com/apis/credentials
# 2. Créer un projet (ou sélectionner un existant)
# 3. Configurer l'écran de consentement OAuth
# 4. Créer des identifiants "ID client OAuth 2.0" > Application Web
# 5. Ajouter les URIs de redirection:
#    - http://localhost:8000/api/v1/auth/sso/google/callback (dev)
#    - https://votredomaine.com/api/v1/auth/sso/google/callback (prod)
GOOGLE_CLIENT_ID=203546447862-56g86l0vs7iatqcnt7j5nd0o00uf09mv.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=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

# ==============================================
# SSO - Apple Sign In
# ==============================================
# 1. Aller sur https://developer.apple.com/account/resources/identifiers
# 2. Créer un App ID avec "Sign in with Apple"
# 3. Créer un Service ID
# 4. Créer une clé privée et télécharger le fichier .p8
# 5. Ajouter les URIs de redirection:
#    - http://localhost:8000/api/v1/auth/sso/apple/callback (dev)
#    - https://votredomaine.com/api/v1/auth/sso/apple/callback (prod)
APPLE_CLIENT_ID=          # Service ID (ex: com.yourcompany.app)
APPLE_TEAM_ID=            # Team ID (10 caractères, visible dans le compte développeur)
APPLE_KEY_ID=             # Key ID (10 caractères, de la clé .p8)
# Pour la clé privée, utiliser le contenu du fichier .p8 sur UNE ligne:
APPLE_PRIVATE_KEY=        # -----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----

# Default Admin User (first run)
ADMIN_EMAIL=admin@youragency.com
ADMIN_PASSWORD=change-this-password

# Postgres (Docker)
POSTGRES_USER=radar
POSTGRES_PASSWORD=radar_password
POSTGRES_DB=opportunities_radar
